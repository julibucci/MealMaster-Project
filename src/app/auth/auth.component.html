<div class="global-container">
  <div class="auth-container">
    <h2>{{ isLoginMode ? 'LOGIN' : 'REGISTER' }}</h2>

    <form [formGroup]="isLoginMode ? loginForm : registerForm" (ngSubmit)="onSubmit()" class="auth-form">

      <!-- Name field (only for registration mode) -->
      <div *ngIf="!isLoginMode" class="form-group">
        <label for="name">Name:</label>
        <input formControlName="name" id="name" type="text" placeholder="Enter your name" 
               class="form-control" 
               [ngClass]="{'is-valid': registerForm.get('name')?.valid && registerForm.get('name')?.touched, 
                           'is-invalid': registerForm.get('name')?.invalid && registerForm.get('name')?.touched}" />
        <div *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched" class="invalid-feedback">
          Please enter a valid name (letters only).
        </div>
      </div>

      <!-- Email field -->
      <div class="form-group">
        <label for="email">Email:</label>
        <input formControlName="email" id="email" type="email" placeholder="Enter your email"
               class="form-control" 
               [ngClass]="{'is-valid': registerForm.get('email')?.valid && registerForm.get('email')?.touched, 
                           'is-invalid': registerForm.get('email')?.invalid && registerForm.get('email')?.touched}" />
        <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="invalid-feedback">
          Please provide a valid email.
        </div>
      </div>

      <!-- Password field -->
      <div class="form-group">
        <label for="password">Password:</label>
        <input formControlName="password" id="password" type="password" placeholder="Enter your password"
               class="form-control" 
               [ngClass]="{'is-valid': registerForm.get('password')?.valid && registerForm.get('password')?.touched, 
                           'is-invalid': registerForm.get('password')?.invalid && registerForm.get('password')?.touched}" />
        <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="invalid-feedback">
          Password must be at least 6 characters.
        </div>
      </div>

      <!-- Submit button -->
      <button type="submit" class="auth-button btn btn-primary" [disabled]="isLoginMode ? loginForm.invalid : registerForm.invalid">
        {{ isLoginMode ? 'Login' : 'Register' }}
      </button>

      <!-- Error message -->
      <p *ngIf="errorMessage" class="error-message text-danger">{{ errorMessage }}</p>
    </form>

    <!-- Toggle between Login and Register modes -->
    <button (click)="toggleMode()" class="toggle-button btn btn-secondary">
      {{ isLoginMode ? 'Register' : 'Switch to Login' }}
    </button>
  </div>
</div>
